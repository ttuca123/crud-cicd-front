{
  "version": "2.3.0",
  "summary": {
    "title": "Crud Threat Cloud",
    "owner": "Artur Cavalcante - 2417046",
    "description": "Sistema é um crud simples que simula uma interface de login vulnerável, utilizando amazon s3 e amazon cognito persistindo os dados no banco de dados relacional.",
    "id": 0
  },
  "detail": {
    "contributors": [],
    "diagrams": [
      {
        "id": 0,
        "title": "Diagrama Crud Threat Cloud",
        "diagramType": "STRIDE",
        "placeholder": "New STRIDE diagram description",
        "thumbnail": "./public/content/images/thumbnail.stride.jpg",
        "version": "2.3.0",
        "cells": [
          {
            "position": {
              "x": 510,
              "y": -430
            },
            "size": {
              "width": 60,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Login\n"
              },
              "body": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "process",
            "zIndex": 1,
            "ports": {
              "groups": {
                "top": {
                  "position": "top",
                  "attrs": {
                    "circle": {
                      "r": 4,
                      "magnet": true,
                      "stroke": "#5F95FF",
                      "strokeWidth": 1,
                      "fill": "#fff",
                      "style": {
                        "visibility": "hidden"
                      }
                    }
                  }
                },
                "right": {
                  "position": "right",
                  "attrs": {
                    "circle": {
                      "r": 4,
                      "magnet": true,
                      "stroke": "#5F95FF",
                      "strokeWidth": 1,
                      "fill": "#fff",
                      "style": {
                        "visibility": "hidden"
                      }
                    }
                  }
                },
                "bottom": {
                  "position": "bottom",
                  "attrs": {
                    "circle": {
                      "r": 4,
                      "magnet": true,
                      "stroke": "#5F95FF",
                      "strokeWidth": 1,
                      "fill": "#fff",
                      "style": {
                        "visibility": "hidden"
                      }
                    }
                  }
                },
                "left": {
                  "position": "left",
                  "attrs": {
                    "circle": {
                      "r": 4,
                      "magnet": true,
                      "stroke": "#5F95FF",
                      "strokeWidth": 1,
                      "fill": "#fff",
                      "style": {
                        "visibility": "hidden"
                      }
                    }
                  }
                }
              },
              "items": [
                {
                  "group": "top",
                  "id": "e9c8f7cc-8aef-4eea-8203-49b1fe1a4935"
                },
                {
                  "group": "right",
                  "id": "afb9057e-cff3-434d-a461-54a52792166b"
                },
                {
                  "group": "bottom",
                  "id": "7e1c5e3a-4370-40f4-a3e9-e1bb62eaa260"
                },
                {
                  "group": "left",
                  "id": "ff89821c-8bf3-46bf-be33-02e03d50e38a"
                }
              ]
            },
            "id": "1d51f58d-6ef4-42a3-bba0-08f0d4ab6c4f",
            "data": {
              "type": "tm.Process",
              "name": "Login\n",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "handlesCardPayment": false,
              "handlesGoodsOrServices": false,
              "isWebApplication": false,
              "privilegeLevel": "",
              "threats": [
                {
                  "id": "2c0b6f23-1ae7-43a2-a0ea-dda1c50c59ed",
                  "title": "Ameaça onde o autor de uma ação nega tê-la realizado",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "Spoofing",
                  "description": "Ameaça onde o autor de uma ação nega tê-la realizado\n\nCAPEC-205: Repudiation Attack\nCWE-347: Improper Verification of Cryptographic Signature",
                  "mitigation": "",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 4,
                  "score": ""
                }
              ],
              "threatFrequency": {
                "spoofing": 1,
                "tampering": 0,
                "repudiation": 0,
                "informationDisclosure": 0,
                "denialOfService": 0,
                "elevationOfPrivilege": 0
              }
            }
          },
          {
            "position": {
              "x": 1060,
              "y": -430
            },
            "size": {
              "width": 120,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Database Users"
              },
              "topLine": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              },
              "bottomLine": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "store",
            "zIndex": 2,
            "ports": {
              "groups": {
                "top": {
                  "position": "top",
                  "attrs": {
                    "circle": {
                      "r": 4,
                      "magnet": true,
                      "stroke": "#5F95FF",
                      "strokeWidth": 1,
                      "fill": "#fff",
                      "style": {
                        "visibility": "hidden"
                      }
                    }
                  }
                },
                "right": {
                  "position": "right",
                  "attrs": {
                    "circle": {
                      "r": 4,
                      "magnet": true,
                      "stroke": "#5F95FF",
                      "strokeWidth": 1,
                      "fill": "#fff",
                      "style": {
                        "visibility": "hidden"
                      }
                    }
                  }
                },
                "bottom": {
                  "position": "bottom",
                  "attrs": {
                    "circle": {
                      "r": 4,
                      "magnet": true,
                      "stroke": "#5F95FF",
                      "strokeWidth": 1,
                      "fill": "#fff",
                      "style": {
                        "visibility": "hidden"
                      }
                    }
                  }
                },
                "left": {
                  "position": "left",
                  "attrs": {
                    "circle": {
                      "r": 4,
                      "magnet": true,
                      "stroke": "#5F95FF",
                      "strokeWidth": 1,
                      "fill": "#fff",
                      "style": {
                        "visibility": "hidden"
                      }
                    }
                  }
                }
              },
              "items": [
                {
                  "group": "top",
                  "id": "0c366aaa-5581-478b-8652-baff4181820f"
                },
                {
                  "group": "right",
                  "id": "9220a9fa-e8a2-4214-b78e-79b413ea728a"
                },
                {
                  "group": "bottom",
                  "id": "86dc776a-d0b8-4abf-8569-43889bce13f4"
                },
                {
                  "group": "left",
                  "id": "c904f13b-b020-43b6-9da9-9b39ee575048"
                }
              ]
            },
            "id": "f870d86e-8026-46a0-bca9-b906707492b7",
            "data": {
              "type": "tm.Store",
              "name": "Database Users",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "isALog": false,
              "isEncrypted": false,
              "isSigned": false,
              "storesCredentials": false,
              "storesInventory": false,
              "threats": [
                {
                  "id": "d827b444-258c-4c62-ab57-db59a565c534",
                  "title": "SQL Injection",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "Tampering",
                  "description": "CWE-89: Improper Neutralization of Special Elements used in an SQL Command\nvnw-rpmn-rhj;\nCAPEC 66: sqlInjection",
                  "mitigation": "Atualização e Patches\nDescrição: Mantenha todos os sistemas, frameworks e bibliotecas atualizados. Muitos ataques de SQL Injection exploram vulnerabilidades conhecidas em sistemas desatualizados.\nUso de Consultas Preparadas (Prepared Statements)\nDescrição: Use consultas parametrizadas em vez de concatenar strings diretamente no SQL. Consultas preparadas separam os dados fornecidos pelo usuário da lógica do SQL, evitando a execução de código injetado.",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 5,
                  "score": ""
                },
                {
                  "id": "d827b444-258c-4c62-ab57-db59a565c534",
                  "title": "New STRIDE threat",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "Repudiation",
                  "description": "Provide a description for this threat",
                  "mitigation": "Provide remediation for this threat or a reason if status is N/A",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 5,
                  "score": ""
                }
              ],
              "threatFrequency": {
                "tampering": 1,
                "repudiation": 1,
                "informationDisclosure": 0,
                "denialOfService": 0
              }
            },
            "tools": {
              "items": [
                "boundary",
                "button-remove"
              ],
              "name": null
            }
          },
          {
            "position": {
              "x": 220,
              "y": -430
            },
            "size": {
              "width": 112.5,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Browser"
              },
              "body": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "actor",
            "zIndex": 3,
            "ports": {
              "groups": {
                "top": {
                  "position": "top",
                  "attrs": {
                    "circle": {
                      "r": 4,
                      "magnet": true,
                      "stroke": "#5F95FF",
                      "strokeWidth": 1,
                      "fill": "#fff",
                      "style": {
                        "visibility": "hidden"
                      }
                    }
                  }
                },
                "right": {
                  "position": "right",
                  "attrs": {
                    "circle": {
                      "r": 4,
                      "magnet": true,
                      "stroke": "#5F95FF",
                      "strokeWidth": 1,
                      "fill": "#fff",
                      "style": {
                        "visibility": "hidden"
                      }
                    }
                  }
                },
                "bottom": {
                  "position": "bottom",
                  "attrs": {
                    "circle": {
                      "r": 4,
                      "magnet": true,
                      "stroke": "#5F95FF",
                      "strokeWidth": 1,
                      "fill": "#fff",
                      "style": {
                        "visibility": "hidden"
                      }
                    }
                  }
                },
                "left": {
                  "position": "left",
                  "attrs": {
                    "circle": {
                      "r": 4,
                      "magnet": true,
                      "stroke": "#5F95FF",
                      "strokeWidth": 1,
                      "fill": "#fff",
                      "style": {
                        "visibility": "hidden"
                      }
                    }
                  }
                }
              },
              "items": [
                {
                  "group": "top",
                  "id": "b437b0b1-52df-46e2-839a-281b85310971"
                },
                {
                  "group": "right",
                  "id": "70ae1437-b3cd-4928-aa12-426c13701333"
                },
                {
                  "group": "bottom",
                  "id": "64160fe4-d666-44bc-a17b-29a694e77088"
                },
                {
                  "group": "left",
                  "id": "0297884b-646d-4a2c-9342-7bd68fb1d4b2"
                }
              ]
            },
            "id": "f72ef4a6-ffc1-4284-90e0-cb1bf0558214",
            "data": {
              "type": "tm.Actor",
              "name": "Browser",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "providesAuthentication": false,
              "threats": [
                {
                  "id": "f008dd1b-c7ae-4fb1-b50a-ad638b0784b9",
                  "title": "Improper Verification of Cryptographic Signature",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "Spoofing",
                  "description": "Ameaça onde o autor de uma ação nega tê-la realizado\n\nCAPEC-205: Repudiation Attack\nCWE-347: Improper Verification of Cryptographic Signature",
                  "mitigation": "Assinatura Digital;\nVerificação de Autenticidade;",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 1,
                  "score": "6"
                },
                {
                  "id": "f008dd1b-c7ae-4fb1-b50a-ad638b0784b9",
                  "title": "Improper Verification of Cryptographic Signature",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "Spoofing",
                  "description": "Ameaça onde o autor de uma ação nega tê-la realizado\n\nCAPEC-205: Repudiation Attack\nCWE-347: Improper Verification of Cryptographic Signature",
                  "mitigation": "Assinatura Digital;\nUtilização de assinaturas digitais no login.",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 1,
                  "score": "6"
                },
                {
                  "id": "f008dd1b-c7ae-4fb1-b50a-ad638b0784b9",
                  "title": "URL Redirection to Untrusted Site",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "Spoofing",
                  "description": "\nCWE-601: URL Redirection to Untrusted Site ('Open Redirect');\nCAPEC-160 (Redirecting User to Fake Website);",
                  "mitigation": "- Utilização de https;\n- Verificação de Formato: Garanta que a URL fornecida segue o formato esperado, utilizando regex",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 1,
                  "score": ""
                }
              ],
              "threatFrequency": {
                "spoofing": 3,
                "repudiation": 0
              }
            }
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "interface",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "labels": [
              "interface"
            ],
            "id": "db5d8bcd-0503-4d72-b3e6-142013e881da",
            "source": {
              "cell": "1d51f58d-6ef4-42a3-bba0-08f0d4ab6c4f",
              "port": "afb9057e-cff3-434d-a461-54a52792166b"
            },
            "target": {
              "cell": "50f3a28d-e5fe-4e16-a6a5-8d21dd7e0dff",
              "port": "ff89821c-8bf3-46bf-be33-02e03d50e38a"
            },
            "vertices": []
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Http",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "labels": [
              "Http"
            ],
            "id": "87be9147-a2b1-47dd-ae35-5c1d7127ded1",
            "source": {
              "cell": "f72ef4a6-ffc1-4284-90e0-cb1bf0558214"
            },
            "target": {
              "cell": "1d51f58d-6ef4-42a3-bba0-08f0d4ab6c4f"
            },
            "vertices": []
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "interface",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "labels": [
              "interface"
            ],
            "id": "783eb04b-009a-4c11-b23d-dd6674b005f3",
            "source": {
              "cell": "50f3a28d-e5fe-4e16-a6a5-8d21dd7e0dff"
            },
            "target": {
              "cell": "f870d86e-8026-46a0-bca9-b906707492b7"
            }
          },
          {
            "position": {
              "x": 750,
              "y": -430
            },
            "size": {
              "width": 60,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "BackEnd - Java\n\n"
              },
              "body": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "process",
            "zIndex": 11,
            "ports": {
              "groups": {
                "top": {
                  "position": "top",
                  "attrs": {
                    "circle": {
                      "r": 4,
                      "magnet": true,
                      "stroke": "#5F95FF",
                      "strokeWidth": 1,
                      "fill": "#fff",
                      "style": {
                        "visibility": "hidden"
                      }
                    }
                  }
                },
                "right": {
                  "position": "right",
                  "attrs": {
                    "circle": {
                      "r": 4,
                      "magnet": true,
                      "stroke": "#5F95FF",
                      "strokeWidth": 1,
                      "fill": "#fff",
                      "style": {
                        "visibility": "hidden"
                      }
                    }
                  }
                },
                "bottom": {
                  "position": "bottom",
                  "attrs": {
                    "circle": {
                      "r": 4,
                      "magnet": true,
                      "stroke": "#5F95FF",
                      "strokeWidth": 1,
                      "fill": "#fff",
                      "style": {
                        "visibility": "hidden"
                      }
                    }
                  }
                },
                "left": {
                  "position": "left",
                  "attrs": {
                    "circle": {
                      "r": 4,
                      "magnet": true,
                      "stroke": "#5F95FF",
                      "strokeWidth": 1,
                      "fill": "#fff",
                      "style": {
                        "visibility": "hidden"
                      }
                    }
                  }
                }
              },
              "items": [
                {
                  "group": "top",
                  "id": "e9c8f7cc-8aef-4eea-8203-49b1fe1a4935"
                },
                {
                  "group": "right",
                  "id": "afb9057e-cff3-434d-a461-54a52792166b"
                },
                {
                  "group": "bottom",
                  "id": "7e1c5e3a-4370-40f4-a3e9-e1bb62eaa260"
                },
                {
                  "group": "left",
                  "id": "ff89821c-8bf3-46bf-be33-02e03d50e38a"
                }
              ]
            },
            "id": "50f3a28d-e5fe-4e16-a6a5-8d21dd7e0dff",
            "data": {
              "type": "tm.Process",
              "name": "BackEnd - Java\n\n",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "handlesCardPayment": false,
              "handlesGoodsOrServices": false,
              "isWebApplication": false,
              "privilegeLevel": "",
              "threats": [
                {
                  "id": "d827b444-258c-4c62-ab57-db59a565c534",
                  "title": "Ataque DDOS",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "Spoofing",
                  "description": "CAPEC-125: Flooding;\nCWE-400: Uncontrolled Resource Consumption;",
                  "mitigation": "Limitação de recursos no sistema;\nMonitoramento e Detecção;",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 5,
                  "score": ""
                },
                {
                  "id": "d827b444-258c-4c62-ab57-db59a565c534",
                  "title": "New STRIDE threat",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "Tampering",
                  "description": "Provide a description for this threat",
                  "mitigation": "Provide remediation for this threat or a reason if status is N/A",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 5,
                  "score": ""
                }
              ],
              "threatFrequency": {
                "spoofing": 1,
                "tampering": 1,
                "repudiation": 0,
                "informationDisclosure": 0,
                "denialOfService": 0,
                "elevationOfPrivilege": 0
              }
            }
          }
        ],
        "description": "é o diagrama que representa a estrutura e arquitetura da aplicação"
      }
    ],
    "diagramTop": 1,
    "reviewer": "Felipe Neres - 2327959",
    "threatTop": 8
  }
}